(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{229:function(e,t,n){},329:function(e,t,n){},350:function(e,t,n){},392:function(e,t){},394:function(e,t){},403:function(e,t){},405:function(e,t){},432:function(e,t){},433:function(e,t){},438:function(e,t){},440:function(e,t){},447:function(e,t){},466:function(e,t){},514:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(0),s=n.n(c),r=n(23),o=n.n(r),i=(n(329),n(67),n(41)),l=n(34),u=n(566),d=n(520),j=n(8),b=n(87),O=n(36),f=n.n(O),m=n(59),h=n(39),g=n(38),v=n(114),p=n.n(v);function x(){var e=Object(g.a)(["\n  query getCalendar(\n      $username: String\n      $year: Int\n      $month: Int\n      ) {\n        getCalendar(data: {\n          username: $username\n          year: $year\n          month: $month\n        })\n  }\n"]);return x=function(){return e},e}function A(){var e=Object(g.a)(["\n  query getSubusers($username: String!) {\n    getSubusers(username: $username) {\n      username\n      userclass\n    }\n  }\n"]);return A=function(){return e},e}function w(){var e=Object(g.a)(["\n  query getOneUser ($username: String!) {\n    getOneUser(username: $username) {\n      success\n      user {\n        password\n      }\n    }\n  }\n"]);return w=function(){return e},e}function y(){var e=Object(g.a)(["\n  query getTodos($username: String!) {\n    getTodos(username: $username) {\n      username\n      userclass\n      todolist{\n        fromName\n        deadline\n        value\n        isComplete\n        order\n      }\n    }\n  }\n"]);return y=function(){return e},e}function C(){var e=Object(g.a)(["\n  query {\n    getEnddate {\n      enddate\n    }\n  }\n"]);return C=function(){return e},e}function S(){var e=Object(g.a)(["\n  query {\n    getClasses {\n      classlist{\n        label\n        value\n      }\n    }\n  }\n"]);return S=function(){return e},e}function N(){var e=Object(g.a)(["\n  query {\n    getJob {\n      joblist {\n        value\n        readOnly\n        width\n        colSpan\n        rowSpan\n        className\n      }\n    }\n  }\n"]);return N=function(){return e},e}function T(){var e=Object(g.a)(["\n  query {\n    getUsers {\n      username\n      password\n      userclass\n    }\n  }\n"]);return T=function(){return e},e}p()(T());var M=p()(N()),E=p()(S()),k=p()(C()),D=p()(y()),F=p()(w()),U=p()(A()),G=p()(x());function I(){var e=Object(g.a)(["\n    mutation mutate(\n        $username: String!\n        $userclass: String!\n        $todolist: [todoItemInput]\n        $mutation: String!\n        $todoitem: todoItemInput!\n    ) {\n        addTodo(data: {\n            username: $username\n            userclass: $userclass\n            todolist: $todolist\n            mutation: $mutation\n            todoitem: $todoitem\n        })\n    }\n"]);return I=function(){return e},e}function z(){var e=Object(g.a)(["\n    mutation mutate(\n        $username: String!\n        $year: Int!\n        $month: Int!\n        $todoList: [[String]]\n    ){\n        addCalendar(data:{\n            username: $username\n            year: $year\n            month: $month\n            todoList: $todoList\n        })\n    }\n"]);return z=function(){return e},e}function R(){var e=Object(g.a)(["\n    mutation mutate (\n        $mutation: String!\n        $classlist: [ClassInput]\n    ){\n        addClass(data: {\n            classlist: $classlist\n            mutation: $mutation\n        })\n    }\n"]);return R=function(){return e},e}function X(){var e=Object(g.a)(["\n    mutation mutate (\n        $enddate: String!\n    ){\n        setEnddate(data: {\n            enddate: $enddate\n        }) {\n            success\n        }\n    }\n"]);return X=function(){return e},e}function Z(){var e=Object(g.a)(["\n    mutation mutate (\n        $mutation: String!\n        $joblist: [[JobInput]]\n    ){\n        addJob(data: {\n            joblist: $joblist\n            mutation: $mutation\n        })\n    }\n"]);return Z=function(){return e},e}function J(){var e=Object(g.a)(["\n    mutation mutate (\n        $username: String!\n        $password: String!\n        $userclass: String!\n    ){\n        addUser(data: {\n            username: $username\n            password: $password\n            userclass: $userclass\n        }) {\n            success\n        }\n    }\n"]);return J=function(){return e},e}var Q=p()(J()),Y=p()(Z()),L=p()(X()),K=p()(R()),q=p()(z()),H=p()(I());function B(){var e=Object(g.a)(["\n    subscription subMsg($username: String!){\n        subMsg(username: $username) {\n            mutation\n            sender\n            todoitem {\n                value\n            }\n        }\n    }\n"]);return B=function(){return e},e}function P(){var e=Object(g.a)(["\n    subscription subTodo($username: String!){\n        subTodo(username: $username) {\n            mutation\n            todolist {\n                fromName\n                deadline\n                value\n                isComplete\n                order\n              }\n        }\n\n    }\n"]);return P=function(){return e},e}var V=p()(P()),W=p()(B()),$=function(){var e=Object(h.useQuery)(E),t=(e.loading,e.error,e.data),n=e.refetch,a=Object(c.useState)(!1),s=Object(j.a)(a,2),r=s[0],o=s[1];return Object(c.useEffect)((function(){r&&(n(),t||n(),o(!1))}),[r,t]),{data:t,setToGet:o}},_=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(j.a)(s,2),o=r[0],i=r[1],l=Object(h.useQuery)(D,{variables:{username:n}}),u=(l.loading,l.error,l.data),d=l.subscribeToMore;l.refetch;return Object(c.useEffect)((function(){o&&(console.log("don't refetch"),i(!1))}),[o]),Object(c.useEffect)((function(){""!==n&&d({document:V,variables:{username:n},updateQuery:function(e,t){var a=t.subscriptionData;return a?(console.log("update Query!",a),console.log("prev:",e),{getTodos:e.getTodos.map((function(e){return e.username===n?{username:e.username,userclass:e.userclass,todolist:a.data.subTodo.todolist}:{e:e}}))}):e}})}),[n]),Object(c.useEffect)((function(){console.log("GetTodo",n,u)}),[JSON.stringify(u)]),{data:u,setToGet:i,setUsername:a}},ee=n(134),te=n(550);var ne=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(""),o=Object(j.a)(r,2),i=o[0],l=o[1],u=Object(c.useState)(""),d=Object(j.a)(u,2),b=d[0],O=d[1],f=Object(c.useState)(""),m=Object(j.a)(f,2),g=m[0],v=m[1],p=Object(c.useState)([]),x=Object(j.a)(p,2),A=x[0],w=x[1],y=function(){var e=Object(h.useMutation)(Q),t=Object(j.a)(e,2),n=t[0],a=t[1].data,s=Object(c.useState)(!1),r=Object(j.a)(s,2),o=r[0],i=r[1];return Object(c.useEffect)((function(){a&&i(a.addUser.success)}),[a]),{createUser:function(e){var t=e.username,a=e.password,c=e.userclass;n({variables:{username:t,password:a,userclass:c}})},isSuccess:o}}(),C=y.createUser,S=y.isSuccess,N=$().data;return Object(c.useEffect)((function(){if(N&&N.getClasses){var e=N.getClasses.classlist;e&&w(e)}}),[N]),Object(a.jsxs)("div",{className:"Register_page",children:[Object(a.jsx)("h2",{children:"Register"}),Object(a.jsx)("p",{children:"Username: "}),Object(a.jsx)("input",{class:"select",value:i,onChange:function(e){l(e.target.value),s(!1)}}),Object(a.jsx)("p",{children:"Password: "}),Object(a.jsx)("input",{class:"select",value:b,onChange:function(e){return O(e.target.value)}}),Object(a.jsx)("p",{children:"Class: "}),Object(a.jsx)("div",{class:"select",children:Object(a.jsx)(ee.a,{value:g,onChange:function(e){v(e)},options:A})}),Object(a.jsx)("div",{class:"button",children:Object(a.jsx)(te.a,{variant:"contained",onClick:function(){s(!0);var e={username:i,password:b,userclass:g.value};C(e)},disabled:!g,children:"Register"})}),n?Object(a.jsx)("div",{children:S?"add new user: ".concat(i):"".concat(i," already exist")}):Object(a.jsx)(a.Fragment,{})]})},ae=(n(350),"data:image/png;base64,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");var ce=function(){var e=Object(l.h)().url.split("/")[1],t=Object(c.useState)(1),n=Object(j.a)(t,2),s=n[0],r=n[1],o=Object(c.useState)(2021),i=Object(j.a)(o,2),u=i[0],d=i[1],O=Object(c.useState)(0),g=Object(j.a)(O,2),v=g[0],p=g[1],x=Object(c.useState)(31),A=Object(j.a)(x,2),w=A[0],y=A[1],C=Object(c.useState)([-1,-1]),S=Object(j.a)(C,2),N=S[0],T=S[1],M=Object(c.useState)([]),E=Object(j.a)(M,2),k=E[0],F=E[1],U=Object(c.useState)(""),I=Object(j.a)(U,2),z=I[0],R=I[1],X=Object(c.useState)(!1),Z=Object(j.a)(X,2),J=Z[0],Q=Z[1],Y=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(-1),r=Object(j.a)(s,2),o=r[0],i=r[1],l=Object(c.useState)(-1),u=Object(j.a)(l,2),d=u[0],b=u[1],O=Object(h.useQuery)(G,{variables:{username:n,year:o,month:d}}),g=(O.loading,O.error,O.data),v=O.refetch,p=Object(h.useMutation)(q),x=Object(j.a)(p,1)[0];Object(c.useEffect)(Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("refetch calander!"),e.next=3,v({variables:{username:n,year:o,month:d},fetchPolicy:"no-cache"});case 3:case"end":return e.stop()}}),e)}))),[n,d,o]);var A=function(){var e=Object(m.a)(f.a.mark((function e(t){var n,a,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.year,c=t.month,s=t.todolist,console.log("mutation calendar",n,a,c,s),e.next=4,x({variables:{username:n,year:a,month:c,todoList:s}});case 4:return console.log("refetch calendar!"),e.next=7,v({variables:{username:n,year:a,month:c},fetchPolicy:"no-cache"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){console.log("axios/getcalendar, data:",g)}),[JSON.stringify(g)]),{data:g,setRefetch:function(e){var t=e.username,n=e.year,c=e.month;console.log("setrefetch:",t,n,c),i(n),b(c),a(t)},addToCalendar:A}}(),L=Y.data,K=Y.setRefetch,H=Y.addToCalendar,B=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(0),r=Object(j.a)(s,2),o=r[0],i=r[1],l=Object(c.useState)(0),u=Object(j.a)(l,2),d=u[0],O=u[1],f=Object(c.useState)(0),m=Object(j.a)(f,2),g=m[0],v=m[1],p=Object(c.useState)([]),x=Object(j.a)(p,2),A=x[0],w=x[1],y=Object(h.useQuery)(D,{variables:{username:n}}),C=(y.loading,y.error,y.data);y.refetch,Object(c.useEffect)((function(){S(n,o,d,g)}),[C,o,d]);var S=function(e,t,n,a){var c=Array(a).fill([]);if(C)for(var s=0;s<C.getTodos.length;s++)if(C.getTodos[s].username==e)for(var r=0;r<C.getTodos[s].todolist.length;r++){var o=C.getTodos[s].todolist[r].deadline,i=C.getTodos[s].todolist[r].value,l=o.split("-"),u=Object(j.a)(l,3),d=u[0],O=u[1],f=u[2];O==t&&d==n&&(c[parseInt(f)-1]=[].concat(Object(b.a)(c[parseInt(f)-1]),[i]))}w(c)};return{todolist:A,updateTodoCal:function(e){var t=e.username,n=e.month,c=e.year,s=e.monthLong;a(t),i(n),O(c),v(s)}}}(),P=B.todolist,V=B.updateTodoCal;Object(c.useEffect)(Object(m.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p(new Date(u,s-1,1).getDay()),y(new Date(u,s,0).getDate()),K({username:e,year:u,month:s}),V({username:e,month:s,year:u,monthLong:w});case 4:case"end":return t.stop()}}),t)}))),[s,u]),Object(c.useEffect)((function(){F((function(){var e=Array(w).fill(!1);return N[1]>0&&(e[N[1]-1]=!0),e}))}),[N]);for(var W=[],$=1,_=function(t){var n=t.target.id,a=n.split("_")[0],c=n.split("_")[1],r=L.getCalendar;r[a-1].splice(c,1),H({username:e,year:u,month:s,todolist:r})},te=0;te<Math.round((w+v)/7)+1;te++){for(var ne=[],ce=0;ce<7;ce++)if(0===te)if(ce<v)ne.push(Object(a.jsx)("td",{class:"date notclickable"}));else{var se=[];if(L&&L.getCalendar.length>0)for(var re=0;re<L.getCalendar[$-1].length;re++)se.push(Object(a.jsxs)("div",{class:"cal-todo-row",children:[Object(a.jsx)("div",{class:"cal-todo-task",children:L.getCalendar[$-1][re]}),Object(a.jsx)("img",{class:"cal-x",src:ae,id:"".concat($,"_").concat(re),onClick:function(e){_(e)}})]}));if(P.length>0&&J)for(re=0;re<P[$-1].length;re++)se.push(Object(a.jsx)("div",{class:"cal-todolist",children:P[$-1][re]}));ne.push(Object(a.jsxs)("td",{class:k[$-1]?"date clicked":"date",id:"".concat(s,"_").concat($),onClick:function(e){return T([e.target.id.split("_")[0],e.target.id.split("_")[1]])},children:[$,se]})),$++}else if($<=w){var oe=[];if(L&&L.getCalendar.length>0)for(re=0;re<L.getCalendar[$-1].length;re++)oe.push(Object(a.jsxs)("div",{class:"cal-todo-row",children:[Object(a.jsx)("div",{class:"cal-todo-task",children:L.getCalendar[$-1][re]}),Object(a.jsx)("img",{class:"cal-x",src:ae,id:"".concat($,"_").concat(re),onClick:function(e){_(e)}})]}));if(P.length>0&&J)for(re=0;re<P[$-1].length;re++)oe.push(Object(a.jsx)("div",{class:"cal-todolist",children:P[$-1][re]}));ne.push(Object(a.jsxs)("td",{class:k[$-1]?"date clicked":"date",id:"".concat(s,"_").concat($),onClick:function(e){return T([e.target.id.split("_")[0],e.target.id.split("_")[1]])},children:[$,oe]})),$++}else ne.push(Object(a.jsx)("td",{class:"date notclickable"}));W.push(Object(a.jsx)("tr",{class:"Cal-content-row",children:ne}))}return Object(a.jsxs)("div",{class:"Theme-black",children:[Object(a.jsxs)("h1",{children:[e,"'s Calendar"]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"text",placeholder:"Type something...",id:"cal-input",onChange:function(e){R(e.target.value)}}),Object(a.jsx)("button",{id:"cal-button",onClick:function(){if(""!==z&&-1!==N[1]){var t=L.getCalendar;console.log("original todolist:",t,"index:",N[1]-1),0===t.length&&(t=Array(w).fill([])),t[N[1]-1]=[].concat(Object(b.a)(t[N[1]-1]),[z]),T([-1,-1]),H({username:e,year:u,month:s,todolist:t})}},children:"Add to Calendar"}),Object(a.jsx)(ee.a,{id:"cal-year",options:[{value:2019,label:2019},{value:2020,label:2020},{value:2021,label:2021},{value:2022,label:2022},{value:2023,label:2023}],placeholder:2021,onChange:function(e){d(e.value),T([-1,-1])}}),Object(a.jsx)(ee.a,{id:"cal-month",options:[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],placeholder:"January",onChange:function(e){r(e.value),T([-1,-1])}}),Object(a.jsx)("button",{id:"cal-import",onClick:function(){Q(!J)},children:J?"Hide Todo":"Import Todo"})]}),Object(a.jsx)("div",{children:Object(a.jsxs)("table",{id:"Cal-main",children:[Object(a.jsx)("tr",{class:"Cal-title-row",children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map((function(e){return Object(a.jsx)("td",{style:{overflowX:"hidden"},children:e})}))}),W]})})]})},se=(n(229),function(e){var t=e.text,n=e.userclass.split(" ");return Object(a.jsx)("header",{className:"todo-app__header",children:Object(a.jsx)("h1",{className:"todo-app__title "+n[n.length-1],children:t})})}),re=n(79),oe=n(554),ie=n(519),le=n(555),ue=n(556),de=n(557),je=n(558),be=n(559),Oe=n(573),fe=n(561);var me=function(e){var t=e.items,n=e.statenow,c=e.setClearId,s=e.my,r=[{field:"fromName",headerName:"Manager",width:"14%"},{field:"deadline",headerName:"Deadline",width:"25%"},{field:"value",headerName:"Todo details",width:"60%"}];return Object(a.jsx)(oe.a,{component:ie.a,children:Object(a.jsxs)(le.a,{className:s?"todo-app__list my":"todo-app__list",children:[Object(a.jsx)(ue.a,{children:Object(a.jsxs)(de.a,{children:[s?Object(a.jsx)(je.a,{style:{width:"11%",overflowX:"hidden"},children:"Done"}):Object(a.jsx)(a.Fragment,{}),r.map((function(e){return Object(a.jsx)(je.a,{style:{width:e.width,overflowX:"hidden"},children:e.headerName})}))]})}),Object(a.jsx)(be.a,{children:function(e,t){return 0===t?e.map((function(e,t){return e.id=t,e})):1===t?e.filter((function(e){return!e.isComplete})).map((function(e,t){return e.id=t,e})):e.filter((function(e){return e.isComplete})).map((function(e,t){return e.id=t,e}))}(t,n).map((function(e){return Object(a.jsxs)(de.a,{children:[s?Object(a.jsx)(Oe.a,{title:"Delete",onClick:function(){return c(e.order)},children:Object(a.jsx)(fe.a,{"aria-label":"delete",children:Object(a.jsx)("img",{className:"todo-app__item-x",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABICAYAAACp+JiNAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnMAABJzAYwiuQcAAAEISURBVHhe7dwxCsIwGEDhKqKgF3fyJF7I3dHZpYO+kCwK1kRSScr74KeZ1L62Soe6GuaxYca4rO7OHOKyjnXa1rRl5goQ7JlbXLZpxzz+NFemik+XQ3iTJXvZ7zkuh+4YAUaAEWAEGAFGkKQ3ubfSvd9LTO6nvw4wAowAI8AIMAKMACPACDACjAAjwAgwAowAI8AIMAKMACPACDACjAAjwAgwAowAI8AIMAKMACPACDACjAAjwAgwAowAI8AIMAKMACPACDACjAAjwAgwAnIjHNN2kUr+TqTX56DCgZ787CWXwylte/P14JWcCUFvZ0PW/pV+MYYXPcdl80oP8E8uTDgzWptCw/AEnjJMvwacm9kAAAAASUVORK5CYII="})})}):Object(a.jsx)(a.Fragment,{}),r.map((function(t){var n=t.field;return Object(a.jsx)(je.a,{style:{width:t.width,textAlign:"center"},children:e[n]})}))]})}))})]})})},he=n(574),ge=n(562),ve=Object(ge.a)((function(e){return{root:{"& > *":{margin:e.spacing(.2),marginTop:e.spacing(1),marginBottom:e.spacing(1)}},deadline:{width:"22%",padding:0},todo:{width:"59%",overflowX:"hidden"},button:{width:"10%",marginTop:e.spacing(2)}}}));var pe=function(e){var t=e.setValueAndSave,n=Object(c.useState)(""),s=Object(j.a)(n,2),r=s[0],o=s[1],i=Object(c.useState)(""),l=Object(j.a)(i,2),u=l[0],d=l[1],b=ve();return Object(a.jsxs)("form",{className:b.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsx)(he.a,{className:b.deadline,onChange:function(e){o(e.target.value)},name:"input",type:"date",variant:"outlined"}),Object(a.jsx)(he.a,{className:b.todo,onChange:function(e){d(e.target.value)},name:"input",label:"What needs to be done?",variant:"outlined",required:!0}),Object(a.jsx)(te.a,{className:b.button,variant:"contained",onClick:function(){t(r,u)},children:"send"})]})};var xe=function(e){var t=e.username,n=e.userclass,s=e.setTotal,r=e.statenow,o=e.me,i=Object(c.useState)(1),l=Object(j.a)(i,2),u=l[0],d=l[1],b=Object(c.useState)(0),O=Object(j.a)(b,2),g=O[0],v=O[1],p=Object(c.useState)([]),x=Object(j.a)(p,2),A=x[0],w=x[1],y=Object(c.useState)(null),C=Object(j.a)(y,2),S=C[0],N=C[1],T=_(),M=T.data,E=T.setToGet,k=T.setUsername,D=function(){var e=Object(h.useMutation)(H),t=Object(j.a)(e,1)[0];return{saveTodo:function(e){var n=e.username,a=e.userclass,c=e.todolist,s=e.mutation,r=e.todoitem;console.log("axios/saveTodo, todoitem",e),t({variables:{username:n,userclass:a,todolist:c,mutation:s,todoitem:r}})}}}().saveTodo,F=function(){var e=Object(m.a)(f.a.mark((function e(a,c){var s,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c,a),s=A.slice(),r={fromName:o,deadline:a,value:c,isComplete:!1,order:g},s.forEach((function(e){delete e.__typename})),s=s.concat(r),w(s),v(g+1),console.log(n),i={username:t,todolist:s,userclass:n,mutation:"CREATED",todoitem:r},console.log("Section, addtodoinput:",i),e.next=12,D(i);case 12:e.sent,E(!0);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function U(){if(M){var e,n=M.getTodos,a=Object(re.a)(n);try{for(a.s();!(e=a.n()).done;){var c=e.value;if(c.username===t){var s=c.todolist;if(s.length>0){var r=s[s.length-1].order;v(r+1),w(s)}}}}catch(o){a.e(o)}finally{a.f()}d(0)}}return Object(c.useEffect)((function(){if(null!=S){for(var e,a=A.slice(),c=0;c<S+1;c++)if(a[c].order===S){e=c;break}var r=a[e];delete r.__typename,a.splice(e,1),s(a.filter((function(e){return!e.isComplete})).length),w(a),N(null),a=a.map((function(e){return delete e.__typename,e}));D({username:t,todolist:a,userclass:n,mutation:"DELETED",todoitem:r});E(!0)}}),[S]),Object(c.useEffect)((function(){u&&(k(t),U())}),[u,M]),Object(c.useEffect)((function(){console.log("getTodoFromBack"),U()}),[JSON.stringify(M)]),Object(a.jsxs)("section",{className:"todo-app__main",id:"main",children:[Object(a.jsx)(pe,{setValueAndSave:F}),Object(a.jsx)(me,{items:A,statenow:r,setClearId:N,my:o===t})]})};var Ae=function(e){var t=e.username,n=e.userclass,s=e.me,r=Object(c.useState)(0),o=Object(j.a)(r,2),i=o[0],l=(o[1],Object(c.useState)(0)),u=Object(j.a)(l,2),d=(u[0],u[1]);return Object(c.useEffect)((function(){console.log(n)})),Object(a.jsxs)("div",{className:"todo-app__root",children:[Object(a.jsx)(se,{userclass:n,text:"".concat(t,"'s TODOs")}),Object(a.jsx)(xe,{username:t,userclass:n,setTotal:d,statenow:i,me:s})]})},we=n(572),ye=n(565),Ce=n(576),Se=n(570),Ne=n(563),Te=n(577),Me=n(567),Ee=n(307),ke=n.n(Ee);var De=function(e){var t=e.myclass,n=e.subclass,r=t.split(" "),o=Object(l.h)().url.split("/")[1],i=Object(c.useState)([]),u=Object(j.a)(i,2),d=u[0],b=u[1],O=Object(c.useState)([]),f=Object(j.a)(O,2),m=f[0],g=f[1],v=Object(c.useState)(!1),p=Object(j.a)(v,2),x=p[0],A=p[1],w=function(e){var t=Object(h.useSubscription)(W,{variables:{username:e}}),n=t.data,a=(t.loading,Object(c.useState)("")),s=Object(j.a)(a,2),r=s[0],o=s[1];return Object(c.useEffect)((function(){n&&("CREATED"===n.subMsg.mutation?o("".concat(n.subMsg.sender," creates a TODO ").concat(n.subMsg.todoitem.value)):"DELETED"===n.subMsg.mutation&&o("".concat(n.subMsg.sender," finished a TODO ").concat(n.subMsg.todoitem.value)))}),[n]),{msg:r,clearMsg:function(){o("")}}}(o),y=w.msg,C=w.clearMsg;Object(c.useEffect)((function(){console.log("msg:",y),""!==y&&A(!0)}),[y]);var S=function(){A(!1),C()},N=Object(ge.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:300,textAlign:"left"},chips:{display:"flex",flexWrap:"wrap"}}}))();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(we.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:x,autoHideDuration:6e3,onClose:S,message:y,action:Object(a.jsx)(s.a.Fragment,{children:Object(a.jsx)(fe.a,{size:"small","aria-label":"close",color:"inherit",onClick:S,children:Object(a.jsx)(ke.a,{fontSize:"small"})})})}),Object(a.jsx)("div",{class:"my_todo",children:Object(a.jsx)(Ae,{username:o,me:o,userclass:t})}),"member"!==r[r.length-1]?Object(a.jsxs)("div",{class:"sub_todo",children:[Object(a.jsxs)(ye.a,{variant:"outlined",className:N.formControl,children:[Object(a.jsx)(Ce.a,{id:"subuser",children:"Select member to see their Todos"}),Object(a.jsx)(Se.a,{id:"subuser",value:d,onChange:function(e){if(0!==e.target.value.length){b(e.target.value);for(var t=[],a=function(a){console.log(e.target.value[a]),s=n.filter((function(t){return t.username===e.target.value[a]})),e.target.value[a]&&t.push(s[0].userclass)},c=0;c<e.target.value.length;c+=1){var s;a(c)}0!==t.length&&g(t)}else b([]),g([])},label:"Select member",multiple:!0,variant:"outlined",input:Object(a.jsx)(Ne.a,{}),renderValue:function(e){return Object(a.jsx)("div",{className:N.chips,children:e.map((function(e){return Object(a.jsx)(Te.a,{label:e,className:N.chip},e)}))})},children:n.map((function(e){return Object(a.jsx)(Me.a,{value:e.username,children:e.username})}))})]}),0!==d.length?d.map((function(e,t){return Object(a.jsx)(Ae,{username:e,userclass:m[t],me:o})})):Object(a.jsx)(a.Fragment,{})]}):Object(a.jsx)(a.Fragment,{})]})};var Fe=function(e){var t=e.enddate,n=(Object(l.h)().url.split("/")[-1],Object(c.useState)({days:0,hours:0,min:0,sec:0})),s=Object(j.a)(n,2),r=s[0],o=s[1];Object(c.useEffect)((function(){var e=setInterval((function(){var n=u(t);n?o(n):i(e)}),1e3);return function(){return i(e)}}),[t]);var i=function(e){clearInterval(e)},u=function(e){var t=(Date.parse(new Date(e))-Date.parse(new Date))/1e3;if(t<=0)return!1;var n={years:0,days:0,hours:0,min:0,sec:0};return t>=31557600&&(n.years=Math.floor(t/31557600),t-=365.25*n.years*86400),t>=86400&&(n.days=Math.floor(t/86400),t-=86400*n.days),t>=3600&&(n.hours=Math.floor(t/3600),t-=3600*n.hours),t>=60&&(n.min=Math.floor(t/60),t-=60*n.min),n.sec=t,n},d=function(e){for(e=String(e);e.length<2;)e="0"+e;return e};return Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"Countdown-col",children:Object(a.jsxs)("span",{className:"Countdown-col-element",children:[Object(a.jsx)("strong",{children:d(r.days)}),Object(a.jsx)("span",{children:1===r.days?"Day":"Days"})]})}),Object(a.jsx)("span",{className:"Countdown-col",children:Object(a.jsxs)("span",{className:"Countdown-col-element",children:[Object(a.jsx)("strong",{children:d(r.hours)}),Object(a.jsx)("span",{children:"Hours"})]})}),Object(a.jsx)("span",{className:"Countdown-col",children:Object(a.jsxs)("span",{className:"Countdown-col-element",children:[Object(a.jsx)("strong",{children:d(r.min)}),Object(a.jsx)("span",{children:"Min"})]})}),Object(a.jsx)("span",{className:"Countdown-col",children:Object(a.jsxs)("span",{className:"Countdown-col-element",children:[Object(a.jsx)("strong",{children:d(r.sec)}),Object(a.jsx)("span",{children:"Sec"})]})})]})},Ue=n(308),Ge=n.n(Ue),Ie=n(568),ze=n(569),Re=n(309),Xe=function(e){return{label:e,value:e}},Ze=[Xe("general director"),Xe("section manager"),Xe("group member")];var Je=function(e){var t=e.options,n=e.setoptions,s=Object(c.useState)(!0),r=Object(j.a)(s,2),o=r[0],i=r[1],l=Object(c.useState)(""),u=Object(j.a)(l,2),d=u[0],O=u[1],f=Object(c.useState)(!1),m=Object(j.a)(f,2),h=m[0],g=m[1];return Object(c.useEffect)((function(){o&&(n(Ze),i(!1))}),[o]),Object(a.jsx)(Re.a,{isClearable:!0,isDisabled:h,isLoading:h,onChange:function(e,t){console.group("Value Changed"),console.log(e),console.log("action: ".concat(t.action)),console.groupEnd(),O(e)},onCreateOption:function(e){g(!0),console.group("Option created"),console.log("Wait a moment..."),setTimeout((function(){var a=Xe(e);console.log(a),console.groupEnd(),g(!1),n([].concat(Object(b.a)(t),[a])),O(a)}),1e3)},options:t,value:d,placeholder:"Add group category..."})};var Qe=function(e){var t=e.setToGetdate,n=e.enddate,s=e.setEnddate,r=(Object(l.h)().url.split("/")[-1],Object(c.useState)(!1)),o=Object(j.a)(r,2),i=o[0],u=o[1],d=Object(c.useState)(""),b=Object(j.a)(d,2),O=b[0],g=b[1],v=Object(c.useState)([]),p=Object(j.a)(v,2),x=p[0],A=p[1],w=function(){var e=Object(h.useMutation)(L),t=Object(j.a)(e,2),n=t[0],a=t[1].data,s=Object(c.useState)(!1),r=Object(j.a)(s,2),o=r[0],i=r[1];return Object(c.useEffect)((function(){a&&(console.log(a),i(a.setEnddate.success))}),[a]),{newEnddate:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return console.log(t),e.next=4,n({variables:{enddate:t}});case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),isSuccess:o}}(),y=w.newEnddate,C=(w.isSuccess,$()),S=C.data,N=C.setToGet,T=function(){var e=Object(h.useMutation)(K),t=Object(j.a)(e,1)[0];return{saveClass:function(e){var n=e.classlist,a=e.mutation;console.log("axios/saveclass, classlist",e),t({variables:{classlist:n,mutation:a}})}}}().saveClass;Object(c.useEffect)((function(){if(S&&S.getClasses){var e=S.getClasses.classlist;e&&A(e)}}),[S]),Object(c.useEffect)((function(){n&&u(!0)}),[n]),Object(c.useEffect)((function(){O&&(s(String(O)),y(String(O)),t(!0))}),[O]);var M=function(){var e=Object(m.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=x.slice()).forEach((function(e){delete e.__typename})),n={classlist:t,mutation:"MODIFIED"},e.next=5,T(n);case 5:e.sent,N(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=x.filter((function(e){return e.label!==t})),A(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"Home_page",children:[Object(a.jsxs)("div",{className:"column1",children:[i?Object(a.jsxs)(ie.a,{className:"Countdown",children:[Object(a.jsx)("h3",{className:"title",children:"Seminar is coming soon:"}),Object(a.jsx)("h3",{className:"title",children:n?n.slice(0,16):""}),Object(a.jsx)(Fe,{enddate:n})]}):Object(a.jsx)(a.Fragment,{}),Object(a.jsxs)("div",{className:"pick",children:[Object(a.jsx)("h3",{children:"Pick the date of your seminar:"}),Object(a.jsx)(Ge.a,{onChange:g,value:O,format:"MM-dd-y",dayPlaceholder:"DD",monthPlaceholder:"MM",yearPlaceholder:"YYYY"})]})]}),Object(a.jsxs)("div",{className:"column2",children:[Object(a.jsxs)("div",{className:"addgroup",children:[Object(a.jsx)("h3",{children:"Manage your organization"}),Object(a.jsx)(Je,{options:x,setoptions:A})]}),Object(a.jsx)("div",{className:"twocolumns",children:0!==x.length?x.map((function(e){return Object(a.jsx)("div",{className:"card",id:e.value,onClick:function(){return E(e.value)},children:Object(a.jsx)(Ie.a,{children:Object(a.jsx)(ze.a,{className:"cardd",children:e.value})})})})):Object(a.jsx)(a.Fragment,{})}),Object(a.jsx)("div",{class:"button",children:Object(a.jsx)(te.a,{variant:"contained",onClick:M,disabled:!x,children:"Save"})})]})]})};var Ye=function(e){var t=e.enddate,n=Object(l.h)().url.split("/")[1],s=Object(c.useState)(!1),r=Object(j.a)(s,2),o=r[0],i=r[1],u=_(),d=u.data,b=u.setUsername,O=Object(c.useState)(0),f=Object(j.a)(O,2),m=f[0],h=f[1],g=Object(c.useState)(1),v=Object(j.a)(g,2),p=v[0],x=v[1];return Object(c.useEffect)((function(){t&&i(!0)}),[t]),Object(c.useEffect)((function(){p&&(b(n),function(){if(d){var e,t=d.getTodos,a=Object(re.a)(t);try{for(a.s();!(e=a.n()).done;){var c=e.value;if(c.username===n){var s=c.todolist;s.length>0&&h(s.length)}}}catch(r){a.e(r)}finally{a.f()}x(0)}}())}),[p,d]),Object(a.jsxs)("div",{className:"Home_page",children:[Object(a.jsx)("div",{className:"column1",children:o?Object(a.jsxs)(ie.a,{className:"Countdown",children:[Object(a.jsx)("h3",{className:"title",children:"Seminar is coming soon:"}),Object(a.jsx)("h3",{className:"title",children:t?t.split("T")[0]:""}),Object(a.jsx)(Fe,{enddate:t})]}):Object(a.jsx)(a.Fragment,{})}),Object(a.jsxs)("div",{className:"column2",children:[Object(a.jsx)("h1",{className:"title",style:{float:"left",padding:"10px 10px 20px 40px"},children:"You have..."}),Object(a.jsxs)("h2",{className:"title",style:{clear:"left"},children:[m," todos remain to be done."]})]})]})};var Le=function(e){var t=e.enddate,n=Object(l.h)().url.split("/")[1],s=Object(c.useState)(!1),r=Object(j.a)(s,2),o=r[0],i=r[1],u=_(),d=u.data,b=u.setUsername,O=Object(c.useState)(0),f=Object(j.a)(O,2),m=f[0],h=f[1],g=Object(c.useState)(1),v=Object(j.a)(g,2),p=v[0],x=v[1];return Object(c.useEffect)((function(){t&&i(!0)}),[t]),Object(c.useEffect)((function(){p&&(b(n),function(){if(d){var e,t=d.getTodos,a=Object(re.a)(t);try{for(a.s();!(e=a.n()).done;){var c=e.value;if(c.username===n){var s=c.todolist;s.length>0&&h(s.length)}}}catch(r){a.e(r)}finally{a.f()}x(0)}}())}),[p,d]),Object(a.jsxs)("div",{className:"Home_page",children:[Object(a.jsx)("div",{className:"column1",children:o?Object(a.jsxs)(ie.a,{className:"Countdown",children:[Object(a.jsx)("h3",{className:"title",children:"Seminar is coming soon:"}),Object(a.jsx)("h3",{className:"title",children:t?t.split("T")[0]:""}),Object(a.jsx)(Fe,{enddate:t})]}):Object(a.jsx)(a.Fragment,{})}),Object(a.jsxs)("div",{className:"column2",children:[Object(a.jsx)("h1",{className:"title",style:{float:"left",padding:"10px 10px 20px 40px"},children:"You have..."}),Object(a.jsxs)("h2",{className:"title",style:{clear:"left"},children:[m," todos remain to be done."]})]})]})};var Ke=function(e){var t=e.myclass,n=(Object(l.h)().url.split("/")[-1],function(){var e=Object(h.useQuery)(k),t=(e.loading,e.error,e.data),n=e.refetch,a=Object(c.useState)(!1),s=Object(j.a)(a,2),r=s[0],o=s[1];return Object(c.useEffect)((function(){r&&(n(),t||(n(),o(!1)))}),[r,t]),{data:t,setToGet:o}}()),s=n.data,r=n.setToGet,o=Object(c.useState)(""),i=Object(j.a)(o,2),u=i[0],d=i[1],b=t.split(" ");return Object(c.useEffect)((function(){s&&s.getEnddate&&null!==s.getEnddate.enddate&&d(s.getEnddate.enddate)}),[s]),"director"===b[b.length-1]?Object(a.jsx)(Qe,{enddate:u,setToGetdate:r,setEnddate:d}):"manager"===b[b.length-1]?Object(a.jsx)(Ye,{enddate:u}):"member"===b[b.length-1]?Object(a.jsx)(Le,{enddate:u}):Object(a.jsx)(a.Fragment,{})},qe=n(205),He=n(310),Be=n.n(He);n(373);var Pe=function(e){var t=e.grid,n=e.setGrid,s=e.groups,r=e.selectrow,o=e.setRow,i=e.mission,l=e.setMission,u=Object(c.useState)(!0),d=Object(j.a)(u,2),O=d[0],f=d[1],m=["8:00 ~ 10:00","10:00 ~ 12:00","12:00 ~ 13:00","13:00 ~ 15:00","15:00 ~ 17:00"],h=Math.floor(250);Object(c.useEffect)((function(){if(1==i){for(var e=r,a=1;a;)t[e].length!==t[0].length?e-=1:a=0;for(var c="12:00 ~ 13:00"==t[e][0].value,s=[],o=0;o<e;o++)s.push(t[o]);var u=[];for(o=0;o<2;o++){var d=t[e][o];d.rowSpan+=1,u.push(d)}for(o=2;o<t[e].length;o++)u.push(t[e][o]);var j=[];for(o=e+1;o<r+1;o++)j.push(t[o]);var b=v(c),O=[];for(o=r+1;o<t.length;o++)O.push(t[o]);n(s.concat([u],j,b,O)),l(0)}}),[i]);var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return{value:e,readOnly:n,width:t,colSpan:c,className:a,rowSpan:s}},v=function(e){for(var t=[],n=0;n<4;n++)e?t.push(g(" ",h,!1,"noon")):t.push(g(" ",h));return[t]},p=function(e){for(var t="12:00 ~ 13:00"==e?[g(e,h,!1,"time noon"),g(" ",h,!1,"time noon")]:[g(e,h,!1,"time"),g(" ",h,!1,"time")],n=[],a=0;a<4;a++)"12:00 ~ 13:00"==e?n.push(g(" ",h,!1,"noon")):n.push(g(" ",h));return t.concat(n)};return Object(c.useEffect)((function(){if(O){if(0==t.length){for(var e=function(){var e=[g("time slot",h,!0,"time"),g("schedule",h,!0,"time")],t=[g("member",h,!0),g("job",h,!0),g("place",h,!0),g("note",h,!0)];return[e.concat(t)]}(),a=[],c=0;c<m.length;c++){var r=p(m[c],s.length);a.push(r)}var o=e.concat(a);n(o)}f(!1)}}),[O,s]),Object(a.jsx)(Be.a,{data:t,valueRenderer:function(e){return e.value},onCellsChanged:function(e){var a=t.map((function(e){return Object(b.a)(e)}));e.forEach((function(e){e.cell;var n=e.row,c=e.col,s=e.value;a[n][c]=Object(qe.a)(Object(qe.a)({},t[n][c]),{},{value:s})})),n(a)},onSelect:function(e){var t=e.start;t&&o(t.i)}})};var Ve=function(e){var t=e.myclass,n=e.username,s=Object(c.useState)([]),r=Object(j.a)(s,2),o=(r[0],r[1]),i=Object(c.useState)([]),l=Object(j.a)(i,2),u=l[0],d=l[1],b=Object(c.useState)(0),O=Object(j.a)(b,2),g=O[0],v=O[1],p=Object(c.useState)(0),x=Object(j.a)(p,2),A=x[0],w=x[1],y=$().data,C=function(){var e=Object(h.useMutation)(Y),t=Object(j.a)(e,1)[0];return{createJob:function(e){var n=e.joblist,a=e.mutation;console.log("axios",e),t({variables:{joblist:n,mutation:a}})}}}().createJob,S=function(){var e=Object(h.useQuery)(M),t=(e.loading,e.error,e.data),n=e.refetch,a=Object(c.useState)(!0),s=Object(j.a)(a,2),r=s[0],o=s[1];return Object(c.useEffect)((function(){console.log("getjob"),r&&(n(),t||(n(),o(!1)))}),[r,t]),{job:t,setToGet:o}}(),N=S.job,T=S.setToGet,E=Object(c.useState)([[]]),k=Object(j.a)(E,2),D=k[0],F=k[1];Object(c.useEffect)((function(){if(N&&N.getJob){var e=N.getJob.joblist;if(e){console.log("load new");var t,a=e.slice(),c=Object(re.a)(a);try{for(c.s();!(t=c.n()).done;){var s=t.value;6==s.length?s=s[2].value==n?s.map((function(e){if(!e.className.includes("time"))return e.className=e.className+" mmee",e})):s.map((function(e){return e.className.includes("mmee")&&(e.className=e.className.replaceAll("mmee","")),e})):4==s.length&&(s=s[0].value==n?s.map((function(e){return e.className=e.className+" mmee",e})):s.map((function(e){return e.className.includes("mmee")&&(e.className=e.className.replaceAll("mmee","")),e})))}}catch(r){c.e(r)}finally{c.f()}F(a)}}}),[N]),Object(c.useEffect)((function(){if(y&&y.getClasses){var e=y.getClasses.classlist;if(e){o(e);var t,n=[],a=Object(re.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;n.includes(c.label.split(" ")[0])||("general"==c.label.split(" ")[0]?n.push("director"):n.push(c.label.split(" ")[0]))}}catch(s){a.e(s)}finally{a.f()}d(n)}}}),[y]);var U=function(){var e=Object(m.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=D.slice()).forEach((function(e){e.forEach((function(e){delete e.__typename}))})),n={joblist:t,mutation:"MODIFIED"},e.next=5,C(n);case 5:e.sent,T(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{style:{padding:"6%"},className:t.includes("member")?"disable":"",children:[t.includes("member")?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)("h2",{className:"title",style:{marginBottom:"40px"},children:"Double click to edit the flowchart..."}),0==u.length?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)(Pe,{grid:D,setGrid:F,groups:u,selectrow:g,setRow:v,mission:A,setMission:w}),t.includes("member")?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(te.a,{variant:"contained",color:"primary",style:{margin:"10px",marginTop:"30px"},onClick:function(){return w(1)},children:"add member row"}),Object(a.jsx)(te.a,{variant:"contained",color:"primary",style:{margin:"10px",marginTop:"30px"},onClick:U,children:"save sheet"})]})]})};function We(e){var t=e.setLogout,n=Object(l.h)().url,s=Object(l.g)().username,r=function(e){var t=Object(h.useQuery)(U,{variables:{username:e}});return t.loading,t.error,t.data}(s),o=Object(c.useState)([]),b=Object(j.a)(o,2),O=b[0],f=b[1],m=Object(c.useState)(""),g=Object(j.a)(m,2),v=g[0],p=g[1];return Object(c.useEffect)((function(){if(r){var e=r.getSubusers,t=e.filter((function(e){return e.username!==s})),n=e.filter((function(e){return e.username===s}));f(t),p(n[0].userclass)}}),[r]),Object(a.jsxs)(i.a,{children:[Object(a.jsxs)("div",{class:"usercaption",children:[Object(a.jsxs)("h4",{children:["Hello, ",s]}),Object(a.jsx)(te.a,{variant:"contained",onClick:t,children:"Logout"})]}),Object(a.jsx)(l.a,{exact:!0,from:"/login",to:"/"+s}),Object(a.jsx)("div",{class:"nav_bar user",children:Object(a.jsxs)(u.a,{component:"nav",children:[Object(a.jsx)(d.a,{children:Object(a.jsx)(i.b,{to:n,children:"UserHome"})}),Object(a.jsx)(d.a,{children:Object(a.jsx)(i.b,{to:n+"/calander",children:"Calander"})}),Object(a.jsx)(d.a,{children:Object(a.jsx)(i.b,{to:n+"/todolist",children:"TodoList"})}),Object(a.jsx)(d.a,{children:Object(a.jsx)(i.b,{to:n+"/flowchart",children:"FlowChart"})})]})}),Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{exact:!0,path:n,children:Object(a.jsx)(Ke,{myclass:v})}),Object(a.jsx)(l.b,{path:n+"/calander",children:Object(a.jsx)(ce,{myclass:v})}),Object(a.jsx)(l.b,{path:n+"/todolist",children:Object(a.jsx)(De,{myclass:v,subclass:O})}),Object(a.jsx)(l.b,{path:n+"/flowchart",children:Object(a.jsx)(Ve,{username:s,myclass:v})})]})]})}var $e=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=(t[0],t[1]),s=Object(c.useState)(""),r=Object(j.a)(s,2),o=r[0],u=r[1],d=Object(c.useState)(""),b=Object(j.a)(d,2),O=b[0],f=b[1],m=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(j.a)(s,2),o=r[0],i=r[1],l=Object(c.useState)(!1),u=Object(j.a)(l,2),d=u[0],b=u[1],O=Object(h.useQuery)(F,{variables:{username:n}}),f=(O.loading,O.error,O.data),m=function(e){if(!1===e)b(!1),a(""),i("");else{var t=e.username,n=e.password;a(t),i(n)}};return Object(c.useEffect)((function(){f&&(!0===f.getOneUser.success&&f.getOneUser.user.password===o?b(!0):b(!1))}),[f,m]),{loginSuccess:d,login:m}}(),g=m.loginSuccess,v=m.login;return Object(a.jsx)(i.a,{children:g?Object(a.jsxs)("div",{className:"user_page",children:[Object(a.jsx)(l.a,{to:"/"+o}),Object(a.jsx)(l.b,{path:"/:username",children:Object(a.jsx)(We,{setLogout:function(){v(!1),n(!1)}})})]}):Object(a.jsxs)("div",{className:"login_page",children:[Object(a.jsx)(l.a,{to:"/login"}),Object(a.jsx)("h2",{children:"Login"}),Object(a.jsx)("p",{children:"Username: "}),Object(a.jsx)("input",{class:"select",value:o,onChange:function(e){return u(e.target.value)}}),Object(a.jsx)("p",{children:"Password: "}),Object(a.jsx)("input",{class:"select",value:O,onChange:function(e){return f(e.target.value)}}),Object(a.jsx)("div",{class:"button",children:Object(a.jsx)(te.a,{variant:"contained",onClick:function(){n(!0),v({username:o,password:O}),f("")},disabled:!O,children:"Login"})})]})})};var _e=function(){return Object(a.jsxs)(i.a,{children:[Object(a.jsx)("div",{className:"nav_bar",children:Object(a.jsxs)(u.a,{component:"nav",children:[Object(a.jsx)(d.a,{children:Object(a.jsx)(i.b,{to:"/",children:"Login"})}),Object(a.jsx)(d.a,{children:Object(a.jsx)(i.b,{to:"/register",children:"Register"})})]})}),Object(a.jsx)("div",{class:"main_screen",children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{path:"/register",children:Object(a.jsx)(ne,{})}),Object(a.jsx)(l.b,{path:"/",children:Object(a.jsx)($e,{})})]})})]})},et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,578)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},tt=n(54),nt=n(315),at=n(312),ct=n(9),st=(n(163),n(382),n(313)),rt=(n(383),n(314)),ot=new nt.a({uri:"http://localhost:4000/graphql"}),it=new at.a({uri:"ws://localhost:4000/graphql",options:{reconnect:!0}}),lt=Object(tt.d)((function(e){var t=e.query,n=Object(ct.l)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),it,ot),ut=new st.a({link:lt,cache:(new rt.a).restore({})});o.a.render(Object(a.jsx)(h.ApolloProvider,{client:ut,children:Object(a.jsx)(_e,{})}),document.getElementById("root")),et()},67:function(e,t,n){}},[[514,1,2]]]);
//# sourceMappingURL=main.d518b37f.chunk.js.map